<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8" />
</head>
<body>
    <h2>图片显示</h2>
    <img src="imgs/Mario1.png" id="img1" /><br />
    <canvas id="can" width="300" height="200"></canvas>
</body>
<script>
    function $(id) {
        return document.getElementById(id);
    }


    //定义旋转角度
    var deg = 0;
    //获取canvas上下文
    var ctx = $("can").getContext("2d");
    //获取canvas 中心
    var cx = $("can").width * 0.5,
        cy = $("can").height * 0.5;
    //获取图片的宽高度
    var iw = $("img1").width,
        ih = $("img1").height;

    //绘制图像
    function draw() {
        //保存变化矩阵
        ctx.save();
        //清除屏幕
        ctx.clearRect(0, 0, 300, 200);
        ctx.translate(cx, cy);
        ctx.scale(0.5, 0.5);
        ctx.rotate(deg * Math.PI / 180);
        ctx.drawImage($("img1"), -iw * 0.5, -ih * 0.5);
        //恢复变换矩阵
        ctx.restore();
    }
    document.body.onload = function () {
        window.setInterval(function () {
            deg = deg + 2;
            draw();
        }, 30);
    }
</script>
</html>
